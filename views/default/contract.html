{{extend 'layout.html'}}

<h2>Contract</h2>

<div id='temp'></div>
<form action="" method="get">
	<h4>About you</h4>
	<div class="row">
		
		<div class="span2"><lable>First Name: </lable></div>
		<div class="span10"><input type="text" name="fName"/></div>
		
		<div class="span2"><lable>Last Name: </lable></div>
		<div class="span10"><input type="text" name="lName"/></div>
		
		<div class="span2"><lable>City: </lable></div>
		<div class="span10"><input type="text" name="city"/></div>
		<div class="span2"><lable>State: </lable></div>
		<div class="span10"><input type="text" name="state"/></div>
		<div class="span2"><lable>Zip: </lable></div>
		<div class="span10"><input type="text" name="zip"/></div>
		
		<div class="span2"><lable>Phone: </lable></div>
		<div class="span10"><input type="text" name="phone"/></div>
		
		<div class="span2"><lable>BYU-Email: </lable></div>
		<div class="span10"><input type="text" name="email"/></div>

	</div>
	
	<h4>Housing options</h4>
	<div class="row">	

		<div class="span2"><lable>Gender: </lable></div>
		<div class="span10">
			<input type ="radio" name="gender" value="male"   onchange="getAvailables()"/>Male<br/>
			<input type ="radio" name="gender" value="female" onchange="getAvailables()"/>Female<br/><br/>
		</div>


		<div class="span2"><lable>Semester: </lable></div>
		<div class="span3">
			<select name="semester"  onchange="getAvailables()">
				<option style="display:none"></option>
				<option value="fall">Fall</option>
				<option value="winter">Winter</option>
				<option value="spring">Spring</option>
				<option value="summer">Summer</option>
			</select><br/>
		</div>
		<div class="span7"> Year:
			<select name="year"  onchange="getAvailables()">
				<option style="display:none"></option>
				<option value="{{=year}}">{{=year}}</option>
				<option value="{{=year+1}}">{{=year+1}}</option>
			</select><br/>
		</div>

		<div class="span2">Room Type:</div>
		<div class="span10">		
			<input type="radio" name="roomType" value="private" onchange="getAvailables()"/>Private <br/>
			<input type="radio" name="roomType" value="shared"  onchange="getAvailables()"/>Shared
		</div>		

	<div span="12" id="output"></div>

		<br/>
		<div class="span12"><input type="button" onclick="send()" value="submit"/></div>
	</div>
</form>

<div id="test"></div>

<br/>
<p>Contact Us</p>

<script type="text/javascript">

function getAvailables()
{
	var gender = $("input[name=gender]:checked").val();
	var semester = $("select[name=semester]").val();
	var year = $("select[name=year]").val();
	var type = $("input[name=roomType]:checked").val();

	$.get("{{=URL('getAvailables')}}", {'year':year, 'gender':gender, 'semester':semester, 'type':type},
    function(data/*resulting data*/)
    {
        document.getElementById("output").innerHTML = data;
    } );
}


function send()
{
	// get vars
	var fname = $('[name=fName]').value;
	document.getElementById('temp').innerHTML = fname;
	
}

</script>
